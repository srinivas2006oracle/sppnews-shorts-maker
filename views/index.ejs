<!DOCTYPE html>
<html lang="te">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>‡∞µ‡±Ä‡∞°‡∞ø‡∞Ø‡±ã ‡∞∏‡±É‡∞∑‡±ç‡∞ü‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø</title>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            background: #f5f7fa;
            margin: 0;
            padding: 1rem;
            max-width: 500px;
            margin: auto;
        }
        h2 {
            text-align: center;
            color: #333;
        }
        label {
            display: block;
            margin-top: 1rem;
            font-weight: bold;
        }
        select,
        textarea,
        input[type="text"],
        input[type="file"],
        button {
            width: 100%;
            font-size: 1rem;
            padding: 0.5rem;
            margin-top: 0.5rem;
        }
        button {
            background-color: #0066cc;
            color: white;
            border: none;
            border-radius: 5px;
            margin-top: 1rem;
        }
        button:hover {
            background-color: #004999;
        }
        .footer {
            text-align: center;
            margin-top: 2rem;
            font-size: 0.9rem;
            color: #888;
        }
        #loading-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.9);
            z-index: 9999;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        .spinner {
            border: 6px solid #ddd;
            border-top: 6px solid #3498db;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            animation: spin 1s linear infinite;
            margin-bottom: 1rem;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .loading-text {
            font-size: 1.1rem;
            color: #444;
        }
        .error {
            color: red;
            font-size: 0.9rem;
            margin-top: 0.5rem;
        }
    </style>
</head>
<body>
    <h2>üìΩÔ∏è ‡∞Æ‡±Ä ‡∞∂‡±Ä‡∞∞‡±ç‡∞∑‡∞ø‡∞ï‡∞§‡±ã ‡∞ï‡±Ç‡∞°‡∞ø‡∞® ‡∞µ‡±Ä‡∞°‡∞ø‡∞Ø‡±ã‡∞®‡±Å ‡∞∏‡±É‡∞∑‡±ç‡∞ü‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø</h2>
    <form id="upload-form" action="/upload" method="post" enctype="multipart/form-data">
        <label>‡∞µ‡±Ä‡∞°‡∞ø‡∞Ø‡±ã ‡∞∂‡±Ä‡∞∞‡±ç‡∞∑‡∞ø‡∞ï <span style="color:red">*</span>:
            <input type="text" name="title" value ="title" placeholder="‡∞Æ‡±Ä ‡∞µ‡±Ä‡∞°‡∞ø‡∞Ø‡±ã‡∞ï‡±Å ‡∞∂‡±Ä‡∞∞‡±ç‡∞∑‡∞ø‡∞ï‡∞®‡±Å ‡∞®‡∞Æ‡±ã‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø..." required>
            <div id="title-error" class="error"></div>
        </label>
        <label>‡∞µ‡±Ä‡∞°‡∞ø‡∞Ø‡±ã ‡∞¶‡∞ø‡∞∂:
            <select name="orientation" required>
                <option value="portrait" selected>‡∞®‡∞ø‡∞≤‡±Å‡∞µ‡±Å</option>
                <option value="landscape">‡∞Ö‡∞°‡±ç‡∞°‡∞Ç‡∞ó‡∞æ</option>
            </select>
        </label>
        <div style="margin-top: 10px;">
            <label for="music_default">1. ‡∞ö‡∞ø‡∞§‡±ç‡∞∞‡∞æ‡∞≤‡±Å & ‡∞ü‡±Ü‡∞ï‡±ç‡∞∏‡±ç‡∞ü‡±ç‚Äå‡∞ï‡±Å ‡∞®‡±á‡∞™‡∞•‡±ç‡∞Ø ‡∞∏‡∞Ç‡∞ó‡±Ä‡∞§‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞ú‡±ã‡∞°‡∞ø‡∞Ç‡∞ö‡∞ø ‡∞µ‡±Ä‡∞°‡∞ø‡∞Ø‡±ã ‡∞§‡∞Ø‡∞æ‡∞∞‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø</label>
            <input type="radio" id="music_default" name="music_option" value="default" checked>

            <label for="music_ai">2. ‡∞ö‡∞ø‡∞§‡±ç‡∞∞‡∞æ‡∞≤‡±Å & ‡∞ü‡±Ü‡∞ï‡±ç‡∞∏‡±ç‡∞ü‡±ç ‡∞ï‡±ã‡∞∏‡∞Ç AI ‡∞Ü‡∞°‡∞ø‡∞Ø‡±ã ‡∞∞‡±Ç‡∞™‡±ä‡∞Ç‡∞¶‡∞ø‡∞Ç‡∞ö‡∞ø ‡∞µ‡±Ä‡∞°‡∞ø‡∞Ø‡±ã ‡∞§‡∞Ø‡∞æ‡∞∞‡±Å‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø</label>
            <input type="radio" id="music_ai" name="music_option" value="ai">

            <label for="transform_merge">3. ‡∞µ‡±Ä‡∞°‡∞ø‡∞Ø‡±ã ‡∞ï‡±ç‡∞≤‡∞ø‡∞™‡±ç‡∞∏‡±ç‚Äå‡∞®‡±Å ‡∞Æ‡∞æ‡∞∞‡±ç‡∞ö‡∞ø ‡∞í‡∞∞‡∞ø‡∞ú‡∞ø‡∞®‡∞≤‡±ç ‡∞Ü‡∞°‡∞ø‡∞Ø‡±ã‡∞§‡±ã ‡∞ï‡∞≤‡∞™‡∞Ç‡∞°‡∞ø</label>
            <input type="radio" id="transform_merge" name="music_option" value="transform_merge">

            <label for="transform_add_music">4. ‡∞µ‡±Ä‡∞°‡∞ø‡∞Ø‡±ã ‡∞ï‡±ç‡∞≤‡∞ø‡∞™‡±ç‡∞∏‡±ç‚Äå‡∞®‡±Å ‡∞Æ‡∞æ‡∞∞‡±ç‡∞ö‡∞ø ‡∞ï‡∞≤‡∞ø‡∞™‡∞ø, ‡∞®‡±á‡∞™‡∞•‡±ç‡∞Ø ‡∞∏‡∞Ç‡∞ó‡±Ä‡∞§‡∞Ç ‡∞ú‡±ã‡∞°‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø</label>
            <input type="radio" id="transform_add_music" name="music_option" value="transform_add_music">

            <label for="merge_only">5. ‡∞µ‡±Ä‡∞°‡∞ø‡∞Ø‡±ã ‡∞ï‡±ç‡∞≤‡∞ø‡∞™‡±ç‡∞∏‡±ç‚Äå‡∞®‡±Å ‡∞Æ‡∞æ‡∞§‡±ç‡∞∞‡∞Æ‡±á ‡∞ï‡∞≤‡∞™‡∞Ç‡∞°‡∞ø (‡∞Æ‡∞æ‡∞∞‡±ç‡∞™‡±Å‡∞≤‡±Å ‡∞≤‡±á‡∞µ‡±Å)</label>
            <input type="radio" id="merge_only" name="music_option" value="merge_only">
        </div>
        <label>‡∞∂‡±Ä‡∞∞‡±ç‡∞∑‡∞ø‡∞ï ‡∞ü‡±Ü‡∞ï‡±ç‡∞∏‡±ç‡∞ü‡±ç:
            <textarea name="caption" rows="8" placeholder="‡∞á‡∞ï‡±ç‡∞ï‡∞° ‡∞Æ‡±Ä ‡∞∂‡±Ä‡∞∞‡±ç‡∞∑‡∞ø‡∞ï‡∞®‡±Å ‡∞®‡∞Æ‡±ã‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø..."></textarea>
            <div id="caption-error" class="error"></div>
        </label>
        <label>‡∞ö‡∞ø‡∞§‡±ç‡∞∞‡∞æ‡∞≤‡±Å ‡∞≤‡±á‡∞¶‡∞æ ‡∞µ‡±Ä‡∞°‡∞ø‡∞Ø‡±ã‡∞≤‡∞®‡±Å ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø (2‚Äì10):
            <input type="file" name="media" accept="image/jpeg,image/png,image/webp" multiple required id="media-input">
            <div id="file-error" class="error"></div>
        </label>
        <button type="submit">üé¨ ‡∞µ‡±Ä‡∞°‡∞ø‡∞Ø‡±ã ‡∞∏‡±É‡∞∑‡±ç‡∞ü‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø</button>
    </form>
    <div class="footer">‡∞Æ‡±ä‡∞¨‡±à‡∞≤‡±ç‡∞ï‡±Å ‡∞Ö‡∞®‡±Å‡∞ï‡±Ç‡∞≤‡∞Ç‡∞ó‡∞æ. ‡∞µ‡±Ä‡∞°‡∞ø‡∞Ø‡±ã‡∞≤‡∞®‡±Å ‡∞Ö‡∞™‡±ç‚Äå‡∞≤‡±ã‡∞°‡±ç ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø, ‡∞∂‡±Ä‡∞∞‡±ç‡∞∑‡∞ø‡∞ï ‡∞ú‡±ã‡∞°‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞∏‡±Å‡∞≤‡∞≠‡∞Ç‡∞ó‡∞æ ‡∞§‡∞Ø‡∞æ‡∞∞‡±Å‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø.</div>

    <!-- Loading Overlay -->
    <div id="loading-overlay">
        <div class="spinner"></div>
        <div class="loading-text">‡∞Æ‡±Ä ‡∞µ‡±Ä‡∞°‡∞ø‡∞Ø‡±ã ‡∞§‡∞Ø‡∞æ‡∞∞‡∞µ‡±Å‡∞§‡±Å‡∞Ç‡∞¶‡∞ø, ‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞µ‡±á‡∞ö‡∞ø ‡∞â‡∞Ç‡∞°‡∞Ç‡∞°‡∞ø...</div>
    </div>

    <script>
        $('#upload-form').on('submit', function (event) {
            let isValid = true;
            const title = $('input[name="title"]').val().trim();
            const caption = $('textarea[name="caption"]').val().trim();
            const musicOption = $('input[name="music_option"]:checked').val();
            const files = $('input[name="media"]')[0].files;

            if (!title) {
                $('#title-error').html('Video Title is required.<br>‡∞µ‡±Ä‡∞°‡∞ø‡∞Ø‡±ã ‡∞∂‡±Ä‡∞∞‡±ç‡∞∑‡∞ø‡∞ï ‡∞§‡∞™‡±ç‡∞™‡∞®‡∞ø‡∞∏‡∞∞‡∞ø‡∞ó‡∞æ ‡∞á‡∞µ‡±ç‡∞µ‡∞æ‡∞≤‡∞ø.');
                isValid = false;
            } else {
                $('#title-error').text('');
            }

            // Make caption mandatory for option 1 and 2
            if ((musicOption === 'default' || musicOption === 'ai') && !caption) {
                $('#caption-error').html('Caption text is required.<br>‡∞∂‡±Ä‡∞∞‡±ç‡∞∑‡∞ø‡∞ï ‡∞ü‡±Ü‡∞ï‡±ç‡∞∏‡±ç‡∞ü‡±ç ‡∞§‡∞™‡±ç‡∞™‡∞®‡∞ø‡∞∏‡∞∞‡∞ø‡∞ó‡∞æ ‡∞á‡∞µ‡±ç‡∞µ‡∞æ‡∞≤‡∞ø.');
                isValid = false;
            } else {
                $('#caption-error').text('');
            }

            if (musicOption === 'ai' || musicOption === 'default') {
                const hasImages = Array.from(files).some(file => file.type.startsWith('image/'));
                if (!hasImages) {
                    $('#file-error').html('At least one image file must be selected.<br>‡∞ï‡∞®‡±Ä‡∞∏‡∞Ç ‡∞í‡∞ï ‡∞ö‡∞ø‡∞§‡±ç‡∞∞‡∞Ç ‡∞´‡±à‡∞≤‡±ç ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞µ‡∞æ‡∞≤‡∞ø.');
                    isValid = false;
                } else {
                    $('#file-error').text('');
                }
            } else if (musicOption === 'transform_merge' || musicOption === 'transform_add_music' || musicOption === 'merge_only') {
                const hasVideos = Array.from(files).some(file => file.type === 'video/mp4');
                if (!hasVideos) {
                    $('#file-error').html('At least one video clip (.mp4) must be selected.<br>‡∞ï‡∞®‡±Ä‡∞∏‡∞Ç ‡∞í‡∞ï ‡∞µ‡±Ä‡∞°‡∞ø‡∞Ø‡±ã ‡∞ï‡±ç‡∞≤‡∞ø‡∞™‡±ç (.mp4) ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞µ‡∞æ‡∞≤‡∞ø.');
                    isValid = false;
                } else {
                    $('#file-error').text('');
                }
            } else {
                const hasFiles = files.length > 0;
                if (!hasFiles) {
                    $('#file-error').html('At least one file must be selected.<br>‡∞ï‡∞®‡±Ä‡∞∏‡∞Ç ‡∞í‡∞ï ‡∞´‡±à‡∞≤‡±ç ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞µ‡∞æ‡∞≤‡∞ø.');
                    isValid = false;
                } else {
                    $('#file-error').text('');
                }
            }

            if (!isValid) {
                event.preventDefault();
            } else {
                $('#loading-overlay').fadeIn();
            }
        });

        $('input[name="music_option"]').change(function () {
            const musicOption = $(this).val();
            const fileInput = $('input[name="media"]');
            if (musicOption === 'ai' || musicOption === 'default') {
                fileInput.attr('accept', 'image/jpeg,image/png,image/webp');
            } else if (musicOption === 'transform_merge' || musicOption === 'transform_add_music' || musicOption === 'merge_only') {
                fileInput.attr('accept', 'video/mp4');
            }
        });
    </script>
</body>
</html>
